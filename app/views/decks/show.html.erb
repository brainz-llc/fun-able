<div class="min-h-screen -mt-16 pt-16 pb-24 md:pb-8 relative overflow-hidden">
  <!-- Animated Background Gradients -->
  <div class="absolute inset-0 pointer-events-none" style="clip-path: inset(0);">
    <div class="absolute top-1/4 left-0 -translate-x-1/2 w-64 h-64 md:w-[500px] md:h-[500px] bg-pink-500/20 md:bg-pink-500/15 rounded-full blur-3xl animate-pulse"></div>
    <div class="absolute top-1/3 right-0 translate-x-1/2 w-80 h-80 md:w-[600px] md:h-[600px] bg-cyan-500/15 md:bg-cyan-500/12 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
    <div class="absolute bottom-1/4 left-1/2 -translate-x-1/2 w-48 h-48 md:w-[400px] md:h-[400px] bg-purple-500/10 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
  </div>

  <div class="relative z-10 px-4 py-8 md:py-12 max-w-6xl mx-auto">
    <!-- Header Card -->
    <div class="rounded-2xl p-5 md:p-8 mb-8"
         style="background: linear-gradient(145deg, rgba(15, 15, 20, 0.95) 0%, rgba(10, 10, 15, 0.98) 100%);
                border: 1px solid rgba(236, 72, 153, 0.15);
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);">

      <div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6">
        <!-- Deck Info -->
        <div class="flex-1">
          <!-- Title and badges -->
          <div class="flex flex-wrap items-center gap-3 mb-4">
            <h1 class="text-2xl md:text-4xl font-bold text-white"><%= @deck.name %></h1>
            <% if @deck.official? %>
              <span class="px-3 py-1 rounded-full text-xs md:text-sm font-medium"
                    style="background: rgba(236, 72, 153, 0.15); color: #f472b6; border: 1px solid rgba(236, 72, 153, 0.3);">
                <%= t('deck.official') %>
              </span>
            <% end %>
            <span class="px-3 py-1 rounded-full text-xs md:text-sm font-medium
                  <%= case @deck.content_rating
                      when 'family' then 'text-green-400'
                      when 'adult' then 'text-yellow-400'
                      when 'nsfw' then 'text-red-400'
                      end %>"
                  style="background: <%= case @deck.content_rating
                      when 'family' then 'rgba(34, 197, 94, 0.15)'
                      when 'adult' then 'rgba(250, 204, 21, 0.15)'
                      when 'nsfw' then 'rgba(239, 68, 68, 0.15)'
                      end %>;">
              <%= t("deck.content_rating.#{@deck.content_rating}") %>
            </span>
          </div>

          <!-- Region badge -->
          <% if @deck.region %>
            <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm text-white/60 mb-4"
                  style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1);">
              <%= @deck.region.display_name %>
            </span>
          <% end %>

          <!-- Description -->
          <p class="text-white/50 mt-3 text-sm md:text-base leading-relaxed"><%= @deck.description %></p>

          <!-- Card counts -->
          <div class="flex flex-wrap items-center gap-6 mt-6">
            <div class="flex items-center gap-2">
              <span class="text-2xl md:text-3xl font-bold text-pink-400"><%= @deck.black_cards_count %></span>
              <span class="text-white/40 text-sm">cartas negras</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-2xl md:text-3xl font-bold text-cyan-400"><%= @deck.white_cards_count %></span>
              <span class="text-white/40 text-sm">cartas blancas</span>
            </div>
            <% if @deck.creator %>
              <div class="text-white/40 text-sm">
                Por <span class="text-white"><%= @deck.creator.display_name %></span>
              </div>
            <% end %>
          </div>
        </div>

        <!-- Vote & Actions -->
        <div class="flex flex-row lg:flex-col items-center lg:items-end justify-between lg:justify-start gap-4 pt-4 lg:pt-0 border-t lg:border-t-0 border-white/10">
          <!-- Voting -->
          <% if logged_in? && @deck.creator_id != current_user.id %>
            <div class="flex items-center gap-3 p-3 rounded-xl"
                 style="background: rgba(168, 85, 247, 0.1); border: 1px solid rgba(168, 85, 247, 0.2);">
              <%= button_to vote_deck_path(@deck, value: 1),
                  method: :post,
                  class: "w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-300 hover:scale-110 #{@deck.vote_value_by(current_user) == 1 ? 'bg-pink-500/30 text-pink-400' : 'text-white/60 hover:text-pink-400 hover:bg-pink-500/20'}" do %>
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
                </svg>
              <% end %>
              <span class="text-3xl font-bold text-purple-400 min-w-[60px] text-center"><%= @deck.votes_count %></span>
              <%= button_to vote_deck_path(@deck, value: -1),
                  method: :post,
                  class: "w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-300 hover:scale-110 #{@deck.vote_value_by(current_user) == -1 ? 'bg-red-500/30 text-red-400' : 'text-white/60 hover:text-red-400 hover:bg-red-500/20'}" do %>
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              <% end %>
            </div>
          <% else %>
            <div class="px-6 py-3 rounded-xl"
                 style="background: rgba(168, 85, 247, 0.1); border: 1px solid rgba(168, 85, 247, 0.2);">
              <span class="text-3xl font-bold text-purple-400">+<%= @deck.votes_count %></span>
            </div>
          <% end %>

          <!-- Owner actions -->
          <% if @deck.creator_id == current_user&.id %>
            <div class="flex gap-2 flex-wrap justify-end">
              <%= link_to edit_deck_path(@deck),
                  class: "px-4 py-2 rounded-lg text-sm font-medium text-white/70 hover:text-white transition-all",
                  style: "background: rgba(168, 85, 247, 0.15); border: 1px solid rgba(168, 85, 247, 0.3);" do %>
                <%= t('deck.edit') %>
              <% end %>
              <%= link_to deck_deck_cards_path(@deck),
                  class: "px-4 py-2 rounded-lg text-sm font-medium text-white/70 hover:text-white transition-all",
                  style: "background: rgba(6, 182, 212, 0.15); border: 1px solid rgba(6, 182, 212, 0.3);" do %>
                Cartas
              <% end %>
              <% if @deck.draft? && @deck.playable? %>
                <%= button_to t('deck.publish'), publish_deck_path(@deck),
                    method: :post,
                    class: "px-4 py-2 rounded-lg text-sm font-medium text-white transition-all",
                    style: "background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);" %>
              <% elsif @deck.published? %>
                <%= button_to t('deck.unpublish'), unpublish_deck_path(@deck),
                    method: :post,
                    class: "px-4 py-2 rounded-lg text-sm font-medium text-white/60 hover:text-white transition-all border border-white/20" %>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Sample Cards -->
    <div class="space-y-10">
      <!-- Black Cards Section -->
      <div>
        <h2 class="text-xl md:text-2xl font-bold mb-5 flex items-center gap-3">
          <div class="w-8 h-8 rounded-lg flex items-center justify-center"
               style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.2) 0%, rgba(236, 72, 153, 0.1) 100%);">
            <span class="text-pink-400 text-sm">&#9632;</span>
          </div>
          <span class="text-pink-400">Cartas Negras</span>
        </h2>

        <!-- Horizontal scroll on mobile, grid on desktop -->
        <div class="flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory -mx-4 px-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:overflow-visible md:mx-0 md:px-0">
          <% @black_cards.each do |card| %>
            <div class="min-w-[280px] md:min-w-0 snap-center flex-shrink-0 md:flex-shrink p-5 rounded-xl"
                 style="background: linear-gradient(145deg, rgba(15, 15, 20, 0.95) 0%, rgba(10, 10, 15, 0.98) 100%);
                        border: 1px solid rgba(236, 72, 153, 0.3);
                        box-shadow: 0 0 20px rgba(236, 72, 153, 0.1);">
              <div class="font-semibold text-white leading-relaxed">
                <%= card.display_content_with_blanks.gsub('_____', '<span class="inline-block border-b-2 border-pink-400 min-w-16 mx-1"></span>').html_safe %>
              </div>
              <% if card.pick_count > 1 %>
                <div class="mt-4 text-xs text-pink-400/70">Elige <%= card.pick_count %></div>
              <% end %>
            </div>
          <% end %>
          <% if @deck.black_cards_count > 10 %>
            <div class="min-w-[200px] md:min-w-0 snap-center flex-shrink-0 md:flex-shrink flex items-center justify-center">
              <p class="text-white/40 text-sm text-center py-8 px-6 rounded-xl"
                 style="border: 1px dashed rgba(236, 72, 153, 0.3);">
                Y <span class="text-pink-400 font-bold"><%= @deck.black_cards_count - 10 %></span> cartas mas...
              </p>
            </div>
          <% end %>
        </div>
      </div>

      <!-- White Cards Section -->
      <div>
        <h2 class="text-xl md:text-2xl font-bold mb-5 flex items-center gap-3">
          <div class="w-8 h-8 rounded-lg flex items-center justify-center"
               style="background: linear-gradient(135deg, rgba(6, 182, 212, 0.2) 0%, rgba(6, 182, 212, 0.1) 100%);">
            <span class="text-cyan-400 text-sm">&#9633;</span>
          </div>
          <span class="text-cyan-400">Cartas Blancas</span>
        </h2>

        <!-- Horizontal scroll on mobile, grid on desktop -->
        <div class="flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory -mx-4 px-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:overflow-visible md:mx-0 md:px-0">
          <% @white_cards.each do |card| %>
            <div class="min-w-[240px] md:min-w-0 snap-center flex-shrink-0 md:flex-shrink p-5 rounded-xl"
                 style="background: linear-gradient(145deg, rgba(20, 20, 25, 0.95) 0%, rgba(15, 15, 20, 0.98) 100%);
                        border: 1px solid rgba(6, 182, 212, 0.3);
                        box-shadow: 0 0 20px rgba(6, 182, 212, 0.1);">
              <div class="font-semibold text-white leading-relaxed"><%= card.content %></div>
            </div>
          <% end %>
          <% if @deck.white_cards_count > 20 %>
            <div class="min-w-[200px] md:min-w-0 snap-center flex-shrink-0 md:flex-shrink flex items-center justify-center">
              <p class="text-white/40 text-sm text-center py-8 px-6 rounded-xl"
                 style="border: 1px dashed rgba(6, 182, 212, 0.3);">
                Y <span class="text-cyan-400 font-bold"><%= @deck.white_cards_count - 20 %></span> cartas mas...
              </p>
            </div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Desktop CTA -->
    <div class="hidden md:block mt-12 text-center">
      <% if @deck.playable? %>
        <%= link_to new_game_path(deck_id: @deck.id),
            class: "inline-flex items-center gap-3 px-10 py-5 rounded-xl text-xl font-bold text-white transition-all duration-300 hover:scale-[1.02]",
            style: "background: linear-gradient(135deg, #ec4899 0%, #db2777 100%); box-shadow: 0 0 40px rgba(236, 72, 153, 0.4);" do %>
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z"/>
          </svg>
          Jugar con este Mazo
        <% end %>
      <% else %>
        <div class="inline-block px-8 py-6 rounded-xl"
             style="background: rgba(10, 10, 15, 0.6); border: 1px dashed rgba(255, 255, 255, 0.1);">
          <p class="text-white/40">Este mazo no tiene suficientes cartas para jugar</p>
        </div>
      <% end %>
    </div>
  </div>
</div>

<!-- Sticky Bottom CTA - Mobile only -->
<div class="fixed bottom-0 left-0 right-0 p-4 md:hidden z-50"
     style="background: linear-gradient(to top, rgba(5, 5, 10, 0.98) 0%, rgba(5, 5, 10, 0.9) 70%, transparent 100%);">
  <% if @deck.playable? %>
    <%= link_to new_game_path(deck_id: @deck.id),
        class: "flex items-center justify-center gap-3 w-full py-4 rounded-2xl font-bold text-white text-lg transition-all active:scale-[0.98]",
        style: "background: linear-gradient(135deg, #ec4899 0%, #db2777 100%); box-shadow: 0 0 40px rgba(236, 72, 153, 0.5);" do %>
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M8 5v14l11-7z"/>
      </svg>
      Jugar con este Mazo
    <% end %>
  <% else %>
    <p class="text-white/40 text-center text-sm py-3">Este mazo no tiene suficientes cartas para jugar</p>
  <% end %>
</div>

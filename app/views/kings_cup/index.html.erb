<div class="min-h-screen -mt-16 pt-16 relative">
  <!-- Animated Background Gradients - Gold/Amber theme -->
  <div class="absolute inset-0 pointer-events-none" style="clip-path: inset(0);">
    <!-- Gold blob - top left -->
    <div class="absolute top-1/4 left-0 -translate-x-1/2 w-64 h-64 md:w-[500px] md:h-[500px] lg:w-[700px] lg:h-[700px] bg-amber-500/20 md:bg-amber-500/15 rounded-full blur-3xl animate-pulse"></div>
    <!-- Red blob - right side -->
    <div class="absolute top-1/3 right-0 translate-x-1/2 w-80 h-80 md:w-[600px] md:h-[600px] lg:w-[800px] lg:h-[800px] bg-red-500/15 md:bg-red-500/12 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
    <!-- Purple blob - center/bottom -->
    <div class="absolute bottom-1/4 left-1/2 -translate-x-1/2 w-48 h-48 md:w-[400px] md:h-[400px] lg:w-[600px] lg:h-[600px] bg-yellow-500/10 md:bg-yellow-500/8 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
    <!-- Extra glow for desktop - bottom corners -->
    <div class="hidden md:block absolute bottom-0 left-0 -translate-x-1/3 translate-y-1/3 w-[400px] h-[400px] lg:w-[500px] lg:h-[500px] bg-amber-600/10 rounded-full blur-3xl"></div>
    <div class="hidden md:block absolute bottom-0 right-0 translate-x-1/3 translate-y-1/3 w-[400px] h-[400px] lg:w-[500px] lg:h-[500px] bg-red-600/10 rounded-full blur-3xl"></div>
  </div>

  <!-- Hero Section -->
  <div class="relative z-10 flex flex-col items-center justify-center min-h-[85vh] px-6 text-center">

    <!-- Floating Playing Cards Preview (top on mobile, bottom on desktop) -->
    <div class="relative w-full max-w-sm md:max-w-6xl h-44 md:h-72 mb-6 md:mb-0 md:mt-10 order-1 md:order-3">

      <!-- Desktop Only: Ace of Spades (far left) -->
      <div class="hidden md:block absolute top-1/2 -translate-y-1/2 rotate-[-18deg] transition-transform hover:rotate-0 hover:scale-105 duration-300"
           style="left: 2%; width: 140px; height: 196px;">
        <div class="w-full h-full rounded-xl p-3 flex flex-col items-center justify-between relative overflow-hidden"
             style="background: linear-gradient(145deg, #1a1a1a 0%, #0f0f0f 100%); border: 2px solid rgba(251, 191, 36, 0.4); box-shadow: 0 0 25px rgba(251, 191, 36, 0.2), 0 15px 30px rgba(0,0,0,0.5);">
          <span class="text-amber-400 font-bold text-xl self-start">A</span>
          <span class="text-4xl">&#9824;</span>
          <div class="absolute bottom-2 left-0 right-0 text-center">
            <span class="text-[10px] font-bold text-amber-400/80 uppercase tracking-wider">Cascada</span>
          </div>
        </div>
      </div>

      <!-- Jack Card (left) -->
      <div class="absolute top-1/2 -translate-y-1/2 rotate-[-12deg] transition-transform hover:rotate-0 hover:scale-110 duration-300"
           style="left: 5%; width: 110px; height: 154px;">
        <div class="w-full h-full md:w-[140px] md:h-[196px] rounded-xl p-2 md:p-3 flex flex-col items-center justify-between relative overflow-hidden md:absolute md:left-[80px]"
             style="background: linear-gradient(145deg, #1f1f1f 0%, #151515 100%); border: 2px solid rgba(168, 85, 247, 0.4); box-shadow: 0 0 20px rgba(168, 85, 247, 0.2), 0 15px 30px rgba(0,0,0,0.4);">
          <span class="text-purple-400 font-bold text-lg md:text-xl self-start">J</span>
          <div class="text-2xl md:text-3xl">&#9827;</div>
          <div class="absolute bottom-1 md:bottom-2 left-0 right-0 text-center">
            <span class="text-[8px] md:text-[10px] font-bold text-purple-400/80 uppercase tracking-wider">Nueva Regla</span>
          </div>
        </div>
      </div>

      <!-- King Card (center) - Main focus -->
      <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 -rotate-3 transition-transform hover:rotate-0 hover:scale-110 duration-300 z-10"
           style="width: 130px; height: 182px;">
        <div class="w-full h-full md:w-[160px] md:h-[224px] rounded-xl p-3 md:p-4 flex flex-col items-center justify-between relative overflow-hidden"
             style="background: linear-gradient(145deg, #1a1a1a 0%, #0a0a0a 100%); border: 2px solid rgba(251, 191, 36, 0.6); box-shadow: 0 0 40px rgba(251, 191, 36, 0.4), 0 20px 40px rgba(0,0,0,0.5);">
          <span class="text-amber-400 font-bold text-xl md:text-2xl self-start">K</span>
          <div class="flex flex-col items-center">
            <span class="text-3xl md:text-4xl">&#9824;</span>
            <span class="text-2xl md:text-3xl mt-1">&#127863;</span>
          </div>
          <div class="absolute bottom-2 left-0 right-0 text-center">
            <span class="text-[10px] md:text-xs font-bold text-amber-400 uppercase tracking-wider animate-pulse">Copa del Rey</span>
          </div>
        </div>
      </div>

      <!-- Queen Card (right) -->
      <div class="absolute top-1/2 -translate-y-1/2 rotate-[10deg] transition-transform hover:rotate-0 hover:scale-110 duration-300"
           style="right: 5%; width: 110px; height: 154px;">
        <div class="w-full h-full md:w-[140px] md:h-[196px] rounded-xl p-2 md:p-3 flex flex-col items-center justify-between relative overflow-hidden md:absolute md:right-[80px]"
             style="background: linear-gradient(145deg, #1f1f1f 0%, #151515 100%); border: 2px solid rgba(236, 72, 153, 0.4); box-shadow: 0 0 20px rgba(236, 72, 153, 0.2), 0 15px 30px rgba(0,0,0,0.4);">
          <span class="text-pink-400 font-bold text-lg md:text-xl self-start">Q</span>
          <div class="text-2xl md:text-3xl">&#9829;</div>
          <div class="absolute bottom-1 md:bottom-2 left-0 right-0 text-center">
            <span class="text-[8px] md:text-[10px] font-bold text-pink-400/80 uppercase tracking-wider">Preguntas ?</span>
          </div>
        </div>
      </div>

      <!-- Desktop Only: 10 Card (far right) -->
      <div class="hidden md:block absolute top-1/2 -translate-y-1/2 rotate-[15deg] transition-transform hover:rotate-0 hover:scale-105 duration-300"
           style="right: 2%; width: 140px; height: 196px;">
        <div class="w-full h-full rounded-xl p-3 flex flex-col items-center justify-between relative overflow-hidden"
             style="background: #1a1a1a; border: 2px solid rgba(6, 182, 212, 0.3); box-shadow: 0 15px 30px rgba(0,0,0,0.4);">
          <span class="text-cyan-400 font-bold text-xl self-start">10</span>
          <span class="text-4xl">&#9830;</span>
          <div class="absolute bottom-2 left-0 right-0 text-center">
            <span class="text-[10px] font-bold text-cyan-400/80 uppercase tracking-wider">Categorias</span>
          </div>
        </div>
      </div>

      <!-- Desktop Only: 7 Card (left of center) -->
      <div class="hidden md:block absolute top-1/2 -translate-y-1/2 rotate-[-8deg] transition-transform hover:rotate-0 hover:scale-105 duration-300 z-[5]"
           style="left: 28%; width: 140px; height: 196px;">
        <div class="w-full h-full rounded-xl p-3 flex flex-col items-center justify-between relative overflow-hidden"
             style="background: #0f0f0f; border: 2px solid rgba(34, 197, 94, 0.3); box-shadow: 0 15px 30px rgba(0,0,0,0.4);">
          <span class="text-green-400 font-bold text-xl self-start">7</span>
          <div class="flex flex-col items-center">
            <span class="text-3xl">&#9827;</span>
            <span class="text-xl mt-1">&#9757;</span>
          </div>
          <div class="absolute bottom-2 left-0 right-0 text-center">
            <span class="text-[10px] font-bold text-green-400/80 uppercase tracking-wider">Cielo</span>
          </div>
        </div>
      </div>

      <!-- Desktop Only: 4 Card (right of center) -->
      <div class="hidden md:block absolute top-1/2 -translate-y-1/2 rotate-[6deg] transition-transform hover:rotate-0 hover:scale-105 duration-300 z-[5]"
           style="right: 28%; width: 140px; height: 196px;">
        <div class="w-full h-full rounded-xl p-3 flex flex-col items-center justify-between relative overflow-hidden"
             style="background: #0f0f0f; border: 2px solid rgba(245, 158, 11, 0.3); box-shadow: 0 15px 30px rgba(0,0,0,0.4);">
          <span class="text-orange-400 font-bold text-xl self-start">4</span>
          <div class="flex flex-col items-center">
            <span class="text-3xl">&#9829;</span>
            <span class="text-xl mt-1">&#128071;</span>
          </div>
          <div class="absolute bottom-2 left-0 right-0 text-center">
            <span class="text-[10px] font-bold text-orange-400/80 uppercase tracking-wider">Suelo</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Logo - Neon Sign -->
    <div class="mb-6 order-2 md:order-1">
      <div class="text-6xl md:text-7xl mb-3 animate-bounce" style="animation-duration: 2s;">&#128081;</div>
      <h1 class="font-black tracking-tighter leading-none" style="font-size: clamp(3.5rem, 14vw, 6rem);">
        <span class="neon-gold">Copa</span><span class="neon-gold-dash"> del </span><span class="neon-gold neon-gold-flicker-delayed">Rey</span>
      </h1>
      <p class="mt-3 text-lg md:text-xl text-white/60 font-light tracking-wide">El clasico juego de cartas... version digital &#127183;</p>
    </div>

    <!-- Action Buttons -->
    <div class="w-full max-w-md space-y-5 order-3 md:order-2">
      <!-- Create Game Button - Mobile: Neon glow, Desktop: Simple -->
      <%= link_to kings_cup_new_path, class: "group block w-full" do %>
        <!-- Mobile Layout - Neon style -->
        <div class="md:hidden flex items-center justify-center gap-4 py-5 px-8 rounded-2xl transition-all duration-300 active:scale-[0.98]"
             style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); box-shadow: 0 0 40px rgba(251, 191, 36, 0.5);">
          <div class="w-12 h-12 rounded-full bg-black/15 flex items-center justify-center">
            <span class="text-2xl">&#127863;</span>
          </div>
          <div class="text-left">
            <span class="block text-xl font-black text-black tracking-wide">Crear Partida</span>
            <span class="block text-sm text-black/70">Invita a tus amigos</span>
          </div>
        </div>

        <!-- Desktop Layout - Neon border -->
        <div class="hidden md:flex items-center justify-center gap-3 py-4 px-8 rounded-xl border border-amber-500/50 hover:border-amber-500 hover:bg-amber-500/10 transition-all duration-300">
          <span class="text-xl">&#127863;</span>
          <span class="text-lg font-medium text-white">Crear Partida</span>
        </div>
      <% end %>

      <!-- Divider -->
      <div class="flex items-center gap-4">
        <div class="flex-1 h-px bg-gradient-to-r from-transparent via-amber-500/30 to-transparent"></div>
        <span class="text-white/40 text-sm font-medium">o unete con codigo</span>
        <div class="flex-1 h-px bg-gradient-to-r from-transparent via-amber-500/30 to-transparent"></div>
      </div>

      <!-- Join Game -->
      <%= form_with url: kings_cup_join_by_code_path, method: :post, class: "w-full" do %>
        <div class="relative">
          <!-- Mobile: Gold neon style -->
          <input type="text"
                 name="code"
                 placeholder="ABC123"
                 maxlength="6"
                 class="w-full text-center uppercase tracking-[0.5em] font-mono text-2xl md:text-xl py-4 md:py-3 rounded-2xl md:rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-amber-400/50 md:focus:ring-white/30 placeholder:text-white/20"
                 style="background: rgba(10, 10, 15, 0.9); border: 2px solid rgba(251, 191, 36, 0.3); color: #fbbf24; letter-spacing: 0.5em;"
                 autocomplete="off">
          <!-- Mobile: Gold button -->
          <button type="submit" class="md:hidden absolute right-2 top-1/2 -translate-y-1/2 w-12 h-12 rounded-xl flex items-center justify-center text-black transition-all duration-300 hover:scale-110 active:scale-95"
                  style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); box-shadow: 0 0 20px rgba(251, 191, 36, 0.4);">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </button>
          <!-- Desktop: Simple button -->
          <button type="submit" class="hidden md:flex absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-lg items-center justify-center text-white/60 hover:text-amber-400 hover:bg-amber-500/10 transition-all duration-300">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </button>
        </div>
      <% end %>
    </div>

  </div>

  <!-- Scroll indicator (below hero) -->
  <div class="flex justify-center py-4 animate-bounce">
    <svg class="w-6 h-6 text-amber-400/50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
    </svg>
  </div>

  <!-- How to Play - Animated Demo Section with Phone Mockup -->
  <div class="relative z-10 py-12 pb-20 md:py-20 px-4" data-controller="kings-cup-demo">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-4 text-white">Como Jugar</h2>

    <!-- Phase Indicator -->
    <p class="text-center text-lg md:text-xl font-medium mb-8 h-8 text-amber-400"
       data-kings-cup-demo-target="phaseIndicator">
      Roba una carta del mazo...
    </p>

    <!-- Demo Container - Premium Phone Frame -->
    <div class="relative max-w-sm mx-auto">
      <!-- Phone Frame - Dark metallic with gold accents -->
      <div class="relative rounded-[2.5rem] p-3 mx-auto phone-frame"
           style="background: linear-gradient(145deg, #2a2a2a 0%, #1a1a1a 50%, #0f0f0f 100%);
                  box-shadow:
                    0 25px 80px rgba(0,0,0,0.6),
                    0 0 60px rgba(251, 191, 36, 0.15),
                    inset 0 1px 1px rgba(255,255,255,0.1),
                    inset 0 -1px 2px rgba(0,0,0,0.3);">

        <!-- Phone Notch with camera and speaker -->
        <div class="absolute top-3 left-1/2 -translate-x-1/2 w-28 h-7 rounded-full bg-black z-20 flex items-center justify-center gap-2"
             style="box-shadow: inset 0 1px 3px rgba(0,0,0,0.8);">
          <div class="w-2 h-2 rounded-full bg-gray-800" style="box-shadow: inset 0 0 2px rgba(255,255,255,0.1);"></div>
          <div class="w-12 h-1 rounded-full bg-gray-800"></div>
        </div>

        <!-- Side Buttons (decorative) -->
        <div class="absolute -left-1 top-24 w-1 h-8 rounded-l-full bg-gradient-to-b from-gray-600 to-gray-700"></div>
        <div class="absolute -left-1 top-36 w-1 h-12 rounded-l-full bg-gradient-to-b from-gray-600 to-gray-700"></div>
        <div class="absolute -right-1 top-28 w-1 h-16 rounded-r-full bg-gradient-to-b from-gray-600 to-gray-700"></div>

        <!-- Phone Screen -->
        <div class="relative rounded-[2rem] overflow-hidden min-h-[520px]"
             style="background: linear-gradient(180deg, #0a0a0f 0%, #12121a 100%);">

          <!-- Screen Content -->
          <div class="p-5 pt-12 h-full">

            <!-- The Cup (Top Center) - Glowing and filling -->
            <div class="flex justify-center mb-4" data-kings-cup-demo-target="cup">
              <div class="relative">
                <!-- Cup glow effect -->
                <div class="absolute inset-0 blur-xl opacity-60"
                     style="background: radial-gradient(ellipse at center bottom, rgba(251, 191, 36, 0.4), transparent 70%);
                            width: 100px; height: 80px; top: 20px; left: 50%; transform: translateX(-50%);"></div>
                <!-- Cup SVG -->
                <div class="relative w-16 h-20 flex items-center justify-center">
                  <svg viewBox="0 0 100 120" class="w-full h-full" style="filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.4));">
                    <!-- Cup body -->
                    <path d="M20 30 L25 100 C25 110 75 110 75 100 L80 30 Z"
                          fill="url(#cupGradientPhone)" stroke="#fbbf24" stroke-width="2.5"/>
                    <!-- Cup rim -->
                    <ellipse cx="50" cy="30" rx="32" ry="8" fill="#1a1a1a" stroke="#fbbf24" stroke-width="2"/>
                    <!-- Liquid fill (animated) -->
                    <clipPath id="cupClipPhone">
                      <path d="M22 35 L26 98 C26 106 74 106 74 98 L78 35 Z"/>
                    </clipPath>
                    <rect x="20" y="40" width="60" height="70" fill="url(#liquidGradientPhone)" clip-path="url(#cupClipPhone)"
                          data-kings-cup-demo-target="liquid" style="transform: translateY(70px); transition: transform 1s ease-out;"/>
                    <!-- Crown on top -->
                    <text x="50" y="18" text-anchor="middle" font-size="16">&#128081;</text>
                    <defs>
                      <linearGradient id="cupGradientPhone" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#2a2a2a"/>
                        <stop offset="100%" style="stop-color:#1a1a1a"/>
                      </linearGradient>
                      <linearGradient id="liquidGradientPhone" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#fbbf24"/>
                        <stop offset="100%" style="stop-color:#b45309"/>
                      </linearGradient>
                    </defs>
                  </svg>
                </div>
                <!-- King count dots -->
                <div class="absolute -bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5" data-kings-cup-demo-target="kingCount">
                  <span class="w-3 h-3 rounded-full bg-gray-700/80 border border-gray-600 transition-all duration-500" data-king="1"></span>
                  <span class="w-3 h-3 rounded-full bg-gray-700/80 border border-gray-600 transition-all duration-500" data-king="2"></span>
                  <span class="w-3 h-3 rounded-full bg-gray-700/80 border border-gray-600 transition-all duration-500" data-king="3"></span>
                  <span class="w-3 h-3 rounded-full bg-gray-700/80 border border-gray-600 transition-all duration-500" data-king="4"></span>
                </div>
              </div>
            </div>

            <!-- Card Area -->
            <div class="relative h-[200px] flex items-center justify-center mt-6">
              <!-- Card Deck -->
              <div class="absolute transition-all duration-500 ease-out"
                   data-kings-cup-demo-target="deck">
                <div class="relative">
                  <!-- Stacked cards effect -->
                  <div class="absolute w-[120px] h-[168px] rounded-2xl"
                       style="background: linear-gradient(145deg, #252530, #1a1a24); border: 1px solid rgba(255,255,255,0.08); top: 6px; left: 6px;"></div>
                  <div class="absolute w-[120px] h-[168px] rounded-2xl"
                       style="background: linear-gradient(145deg, #252530, #1a1a24); border: 1px solid rgba(255,255,255,0.08); top: 3px; left: 3px;"></div>
                  <!-- Top card (face down) -->
                  <div class="relative w-[120px] h-[168px] rounded-2xl flex items-center justify-center cursor-pointer transition-all duration-300"
                       style="background: linear-gradient(145deg, #1a1a24, #0f0f18);
                              border: 2px solid rgba(251, 191, 36, 0.4);
                              box-shadow: 0 0 30px rgba(251, 191, 36, 0.25), 0 10px 40px rgba(0,0,0,0.4);"
                       data-kings-cup-demo-target="topCard">
                    <div class="text-center">
                      <div class="text-5xl mb-2">&#127183;</div>
                      <p class="text-amber-400/60 text-xs font-medium tracking-wide">Toca para robar</p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Drawn Card (appears on draw) with 3D flip -->
              <div class="absolute opacity-0 scale-0 transition-all duration-500"
                   data-kings-cup-demo-target="drawnCard"
                   style="perspective: 1000px;">
                <div class="card-inner w-[130px] h-[182px] rounded-2xl p-4 flex flex-col items-center justify-between transition-all duration-500"
                     style="background: linear-gradient(145deg, #1a1a24, #0a0a14);
                            border: 2px solid rgba(251, 191, 36, 0.5);
                            box-shadow: 0 0 40px rgba(251, 191, 36, 0.4), 0 15px 50px rgba(0,0,0,0.5);">
                  <span class="font-bold text-3xl self-start" data-kings-cup-demo-target="cardValue" style="color: #fbbf24;">K</span>
                  <span class="text-5xl" data-kings-cup-demo-target="cardSuit">&#9824;</span>
                  <span class="text-xs font-bold uppercase tracking-widest" data-kings-cup-demo-target="cardRule" style="color: #fbbf24;">Copa</span>
                </div>
              </div>
            </div>

            <!-- Rule Display -->
            <div class="mt-4 px-2 opacity-0 translate-y-4 transition-all duration-500"
                 data-kings-cup-demo-target="ruleDisplay">
              <div class="rounded-2xl p-4 text-center"
                   style="background: linear-gradient(145deg, rgba(251, 191, 36, 0.1), rgba(251, 191, 36, 0.05));
                          border: 1px solid rgba(251, 191, 36, 0.3);
                          box-shadow: 0 0 30px rgba(251, 191, 36, 0.15), inset 0 1px 0 rgba(255,255,255,0.05);">
                <h3 class="text-amber-400 font-bold text-xl mb-2" data-kings-cup-demo-target="ruleName">Cascada</h3>
                <p class="text-white/70 text-sm leading-relaxed" data-kings-cup-demo-target="ruleDescription">Todos beben en cascada empezando por ti</p>
              </div>
            </div>

            <!-- Next Player Indicator -->
            <div class="mt-4 text-center opacity-0 transition-all duration-500" data-kings-cup-demo-target="nextPlayer">
              <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full"
                   style="background: rgba(251, 191, 36, 0.15); border: 1px solid rgba(251, 191, 36, 0.3);">
                <div class="flex -space-x-2">
                  <div class="w-6 h-6 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 border-2 border-black/50 flex items-center justify-center text-xs">A</div>
                  <div class="w-6 h-6 rounded-full bg-gradient-to-br from-cyan-400 to-cyan-600 border-2 border-black/50 flex items-center justify-center text-xs">L</div>
                </div>
                <span class="text-amber-300 text-sm font-medium">Turno de Luis</span>
                <svg class="w-4 h-4 text-amber-400 animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </div>
            </div>

          </div>
          <!-- End Screen Content -->

          <!-- Home Indicator -->
          <div class="absolute bottom-2 left-1/2 -translate-x-1/2 w-32 h-1 rounded-full bg-white/20"></div>
        </div>
        <!-- End Phone Screen -->
      </div>
      <!-- End Phone Frame -->

      <!-- Step Indicators (outside phone) -->
      <div class="flex justify-center items-center gap-3 mt-8">
        <div class="step-dot w-2.5 h-2.5 rounded-full bg-amber-500/30 transition-all duration-300" data-kings-cup-demo-target="step1"></div>
        <div class="step-dot w-2.5 h-2.5 rounded-full bg-amber-500/30 transition-all duration-300" data-kings-cup-demo-target="step2"></div>
        <div class="step-dot w-2.5 h-2.5 rounded-full bg-amber-500/30 transition-all duration-300" data-kings-cup-demo-target="step3"></div>
        <div class="step-dot w-2.5 h-2.5 rounded-full bg-amber-500/30 transition-all duration-300" data-kings-cup-demo-target="step4"></div>
      </div>

      <!-- Step Labels -->
      <div class="flex justify-center gap-6 mt-6 text-center">
        <div class="flex flex-col items-center">
          <div class="w-8 h-8 rounded-full flex items-center justify-center mb-1"
               style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.1)); border: 1px solid rgba(251, 191, 36, 0.4);">
            <span class="text-amber-400 font-bold text-xs">1</span>
          </div>
          <p class="text-white/50 text-[10px] md:text-xs">Roba</p>
        </div>
        <div class="flex flex-col items-center">
          <div class="w-8 h-8 rounded-full flex items-center justify-center mb-1"
               style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(236, 72, 153, 0.1)); border: 1px solid rgba(236, 72, 153, 0.4);">
            <span class="text-pink-400 font-bold text-xs">2</span>
          </div>
          <p class="text-white/50 text-[10px] md:text-xs">Voltea</p>
        </div>
        <div class="flex flex-col items-center">
          <div class="w-8 h-8 rounded-full flex items-center justify-center mb-1"
               style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(168, 85, 247, 0.1)); border: 1px solid rgba(168, 85, 247, 0.4);">
            <span class="text-purple-400 font-bold text-xs">3</span>
          </div>
          <p class="text-white/50 text-[10px] md:text-xs">Regla</p>
        </div>
        <div class="flex flex-col items-center">
          <div class="w-8 h-8 rounded-full flex items-center justify-center mb-1"
               style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(34, 197, 94, 0.1)); border: 1px solid rgba(34, 197, 94, 0.4);">
            <span class="text-green-400 font-bold text-xs">4</span>
          </div>
          <p class="text-white/50 text-[10px] md:text-xs">Siguiente</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Card Rules Reference -->
  <div class="relative z-10 py-12 px-4">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-3 text-white">Reglas de las Cartas</h2>
    <p class="text-center text-white/50 text-sm mb-8">Cada carta tiene su propia regla especial</p>

    <div class="max-w-5xl mx-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4">
      <!-- Ace -->
      <div class="rules-card group" data-card="A">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-amber-400">A</span>
          <span class="text-xl">&#127866;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Cascada</h3>
        <p class="text-white/50 text-xs leading-relaxed">Todos beben en orden</p>
      </div>

      <!-- 2 -->
      <div class="rules-card group" data-card="2">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-cyan-400">2</span>
          <span class="text-xl">&#128073;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Tu</h3>
        <p class="text-white/50 text-xs leading-relaxed">Elige quien bebe</p>
      </div>

      <!-- 3 -->
      <div class="rules-card group" data-card="3">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-pink-400">3</span>
          <span class="text-xl">&#128587;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Yo</h3>
        <p class="text-white/50 text-xs leading-relaxed">Tu bebes</p>
      </div>

      <!-- 4 -->
      <div class="rules-card group" data-card="4">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-orange-400">4</span>
          <span class="text-xl">&#128071;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Suelo</h3>
        <p class="text-white/50 text-xs leading-relaxed">Ultimo en tocar el suelo bebe</p>
      </div>

      <!-- 5 -->
      <div class="rules-card group" data-card="5">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-blue-400">5</span>
          <span class="text-xl">&#128104;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Chicos</h3>
        <p class="text-white/50 text-xs leading-relaxed">Beben los chicos</p>
      </div>

      <!-- 6 -->
      <div class="rules-card group" data-card="6">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-rose-400">6</span>
          <span class="text-xl">&#128105;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Chicas</h3>
        <p class="text-white/50 text-xs leading-relaxed">Beben las chicas</p>
      </div>

      <!-- 7 -->
      <div class="rules-card group" data-card="7">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-green-400">7</span>
          <span class="text-xl">&#9757;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Cielo</h3>
        <p class="text-white/50 text-xs leading-relaxed">Ultimo en levantar la mano bebe</p>
      </div>

      <!-- 8 -->
      <div class="rules-card group" data-card="8">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-indigo-400">8</span>
          <span class="text-xl">&#129309;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Compinche</h3>
        <p class="text-white/50 text-xs leading-relaxed">Elige un compinche de bebida</p>
      </div>

      <!-- 9 -->
      <div class="rules-card group" data-card="9">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-teal-400">9</span>
          <span class="text-xl">&#128172;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Rima</h3>
        <p class="text-white/50 text-xs leading-relaxed">Di una palabra, todos riman</p>
      </div>

      <!-- 10 -->
      <div class="rules-card group" data-card="10">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-cyan-400">10</span>
          <span class="text-xl">&#128218;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Categorias</h3>
        <p class="text-white/50 text-xs leading-relaxed">Di una categoria, todos nombran</p>
      </div>

      <!-- Jack -->
      <div class="rules-card group" data-card="J">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-purple-400">J</span>
          <span class="text-xl">&#128220;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Nueva Regla</h3>
        <p class="text-white/50 text-xs leading-relaxed">Inventa una regla nueva</p>
      </div>

      <!-- Queen -->
      <div class="rules-card group" data-card="Q">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-pink-400">Q</span>
          <span class="text-xl">&#10067;</span>
        </div>
        <h3 class="font-bold text-white text-sm mb-1">Preguntas</h3>
        <p class="text-white/50 text-xs leading-relaxed">Solo puedes hacer preguntas</p>
      </div>

      <!-- King - Special highlight -->
      <div class="rules-card-king group col-span-2 sm:col-span-1" data-card="K">
        <div class="flex items-center gap-2 mb-2">
          <span class="text-2xl font-bold text-amber-400">K</span>
          <span class="text-xl">&#127863;</span>
        </div>
        <h3 class="font-bold text-amber-400 text-sm mb-1">Copa del Rey</h3>
        <p class="text-amber-400/70 text-xs leading-relaxed">Vierte en la copa. El 4to rey bebe todo!</p>
      </div>
    </div>

    <!-- Quick Reference Bar -->
    <div class="max-w-4xl mx-auto mt-8 p-4 rounded-xl overflow-x-auto scrollbar-hide"
         style="background: linear-gradient(145deg, rgba(26, 26, 26, 0.9), rgba(10, 10, 10, 0.9)); border: 1px solid rgba(251, 191, 36, 0.2);">
      <div class="flex justify-between min-w-max gap-2 text-center">
        <div class="px-2"><span class="text-amber-400 font-bold">A</span><span class="text-white/40 text-xs block">Cascada</span></div>
        <div class="px-2"><span class="text-cyan-400 font-bold">2</span><span class="text-white/40 text-xs block">Tu</span></div>
        <div class="px-2"><span class="text-pink-400 font-bold">3</span><span class="text-white/40 text-xs block">Yo</span></div>
        <div class="px-2"><span class="text-orange-400 font-bold">4</span><span class="text-white/40 text-xs block">Suelo</span></div>
        <div class="px-2"><span class="text-blue-400 font-bold">5</span><span class="text-white/40 text-xs block">Chicos</span></div>
        <div class="px-2"><span class="text-rose-400 font-bold">6</span><span class="text-white/40 text-xs block">Chicas</span></div>
        <div class="px-2"><span class="text-green-400 font-bold">7</span><span class="text-white/40 text-xs block">Cielo</span></div>
        <div class="px-2"><span class="text-indigo-400 font-bold">8</span><span class="text-white/40 text-xs block">Compinche</span></div>
        <div class="px-2"><span class="text-teal-400 font-bold">9</span><span class="text-white/40 text-xs block">Rima</span></div>
        <div class="px-2"><span class="text-cyan-400 font-bold">10</span><span class="text-white/40 text-xs block">Categorias</span></div>
        <div class="px-2"><span class="text-purple-400 font-bold">J</span><span class="text-white/40 text-xs block">Regla</span></div>
        <div class="px-2"><span class="text-pink-400 font-bold">Q</span><span class="text-white/40 text-xs block">Preguntas</span></div>
        <div class="px-2"><span class="text-amber-400 font-bold">K</span><span class="text-white/40 text-xs block">Copa</span></div>
      </div>
    </div>
  </div>

  <!-- Bottom CTA -->
  <div class="relative z-10 py-16 px-6 text-center">
    <div class="max-w-md mx-auto">
      <p class="text-white/60 mb-6">Listo para jugar?</p>
      <%= link_to kings_cup_new_path, class: "inline-flex items-center gap-3 py-4 px-8 rounded-2xl font-bold text-black transition-all duration-300 hover:scale-105 active:scale-95",
          style: "background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); box-shadow: 0 0 40px rgba(251, 191, 36, 0.4);" do %>
        <span class="text-2xl">&#128081;</span>
        <span>Crear Partida</span>
      <% end %>
    </div>
  </div>

  <style>
    /* Gold neon text effects */
    .neon-gold {
      color: #fff;
      text-shadow:
        0 0 4px #fff,
        0 0 10px #fbbf24,
        0 0 25px rgba(251, 191, 36, 0.6),
        0 0 45px rgba(251, 191, 36, 0.35);
      animation: neon-gold-flicker 4s infinite;
    }

    .neon-gold-dash {
      color: #fff;
      text-shadow:
        0 0 4px #fff,
        0 0 10px #f59e0b,
        0 0 25px rgba(245, 158, 11, 0.5);
      animation: neon-gold-flicker-subtle 5s infinite;
    }

    .neon-gold-flicker-delayed {
      animation: neon-gold-flicker 4s infinite 0.3s;
    }

    @keyframes neon-gold-flicker {
      0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
        opacity: 1;
      }
      20%, 24%, 55% {
        opacity: 0.92;
      }
      22% {
        opacity: 0.88;
      }
    }

    @keyframes neon-gold-flicker-subtle {
      0%, 18%, 22%, 25%, 53%, 57%, 100% {
        opacity: 1;
      }
      20%, 24%, 55% {
        opacity: 0.95;
      }
    }

    /* Rules card styling */
    .rules-card {
      padding: 0.75rem;
      border-radius: 0.75rem;
      transition: all 0.3s ease;
      background: linear-gradient(145deg, rgba(26, 26, 26, 0.9) 0%, rgba(10, 10, 10, 0.9) 100%);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    }

    .rules-card:hover {
      transform: translateY(-4px) scale(1.02);
      border-color: rgba(168, 85, 247, 0.4);
      box-shadow: 0 8px 30px rgba(0,0,0,0.5), 0 0 20px rgba(168, 85, 247, 0.2);
    }

    .rules-card-king {
      padding: 0.75rem;
      border-radius: 0.75rem;
      transition: all 0.3s ease;
      background: linear-gradient(145deg, rgba(251, 191, 36, 0.15) 0%, rgba(245, 158, 11, 0.1) 100%);
      border: 2px solid rgba(251, 191, 36, 0.4);
      box-shadow: 0 4px 20px rgba(0,0,0,0.4), 0 0 20px rgba(251, 191, 36, 0.2);
    }

    .rules-card-king:hover {
      transform: translateY(-4px) scale(1.02);
      border-color: rgba(251, 191, 36, 0.7);
      box-shadow: 0 8px 30px rgba(0,0,0,0.5), 0 0 30px rgba(251, 191, 36, 0.4);
    }

    @keyframes float {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(-8px); }
    }

    @keyframes cup-glow {
      0%, 100% {
        filter: drop-shadow(0 0 15px rgba(251, 191, 36, 0.5));
      }
      50% {
        filter: drop-shadow(0 0 25px rgba(251, 191, 36, 0.8));
      }
    }

    .animate-cup-glow {
      animation: cup-glow 2s ease-in-out infinite;
    }

    /* Phone frame styling */
    .phone-frame {
      position: relative;
    }

    .phone-frame::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 2.5rem;
      padding: 1px;
      background: linear-gradient(145deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.05) 50%, rgba(0,0,0,0.2) 100%);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
    }

    /* Card flip animation */
    .card-flip {
      animation: cardFlipIn 0.6s ease-out forwards;
    }

    @keyframes cardFlipIn {
      0% {
        transform: perspective(1000px) rotateY(-90deg) scale(0.8);
        opacity: 0;
      }
      50% {
        transform: perspective(1000px) rotateY(-20deg) scale(1.05);
        opacity: 1;
      }
      100% {
        transform: perspective(1000px) rotateY(0deg) scale(1);
        opacity: 1;
      }
    }

    /* Deck pulse animation */
    .deck-pulse {
      animation: deckPulse 1s ease-in-out infinite;
    }

    @keyframes deckPulse {
      0%, 100% {
        box-shadow: 0 0 30px rgba(251, 191, 36, 0.25), 0 10px 40px rgba(0,0,0,0.4);
      }
      50% {
        box-shadow: 0 0 50px rgba(251, 191, 36, 0.5), 0 10px 40px rgba(0,0,0,0.4);
      }
    }

    /* Active step indicator */
    .step-dot.active {
      background: #fbbf24;
      box-shadow: 0 0 12px rgba(251, 191, 36, 0.7);
      transform: scale(1.4);
    }

    /* King filled indicator */
    .king-filled {
      animation: kingFill 0.5s ease-out forwards;
    }

    @keyframes kingFill {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.3);
      }
      100% {
        transform: scale(1);
      }
    }
  </style>
</div>

<div class="min-h-screen -mt-16 pt-16 pb-24 relative overflow-hidden">
  <!-- Animated Background -->
  <div class="absolute inset-0 pointer-events-none" style="clip-path: inset(0);">
    <div class="absolute top-1/4 left-0 -translate-x-1/2 w-64 h-64 md:w-[400px] md:h-[400px] bg-purple-500/15 rounded-full blur-3xl animate-pulse"></div>
    <div class="absolute bottom-1/4 right-0 translate-x-1/2 w-80 h-80 md:w-[500px] md:h-[500px] bg-pink-500/12 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
  </div>

  <div class="relative z-10 max-w-lg mx-auto px-4 py-8">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-black tracking-tight mb-2">
        <span style="color: #a855f7; text-shadow: 0 0 20px rgba(168, 85, 247, 0.5);">Yo Nunca Nunca</span>
      </h1>
      <p class="text-white/50">Configura tu partida</p>
    </div>

    <!-- Form -->
    <%= form_with model: @game, url: never_have_i_ever_games_path, class: "space-y-6" do |f| %>
      <!-- Category Selection -->
      <div class="p-5 rounded-xl"
           style="background: rgba(10, 10, 15, 0.8); border: 1px solid rgba(168, 85, 247, 0.2);">
        <label class="text-sm font-medium text-white/70 mb-3 block">Categoria</label>
        <div class="grid grid-cols-3 gap-3">
          <label class="cursor-pointer">
            <%= f.radio_button :category, :tame, class: "peer hidden" %>
            <div class="p-4 rounded-xl text-center transition-all peer-checked:ring-2 peer-checked:ring-green-400"
                 style="background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.2);">
              <span class="text-2xl block mb-1">&#128519;</span>
              <span class="text-xs font-bold text-green-400">Suave</span>
            </div>
          </label>
          <label class="cursor-pointer">
            <%= f.radio_button :category, :spicy, class: "peer hidden", checked: true %>
            <div class="p-4 rounded-xl text-center transition-all peer-checked:ring-2 peer-checked:ring-orange-400"
                 style="background: rgba(251, 146, 60, 0.1); border: 1px solid rgba(251, 146, 60, 0.2);">
              <span class="text-2xl block mb-1">&#127798;</span>
              <span class="text-xs font-bold text-orange-400">Picante</span>
            </div>
          </label>
          <label class="cursor-pointer">
            <%= f.radio_button :category, :extreme, class: "peer hidden" %>
            <div class="p-4 rounded-xl text-center transition-all peer-checked:ring-2 peer-checked:ring-red-400"
                 style="background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.2);">
              <span class="text-2xl block mb-1">&#128293;</span>
              <span class="text-xs font-bold text-red-400">Extremo</span>
            </div>
          </label>
        </div>
      </div>

      <!-- Starting Points -->
      <div class="p-5 rounded-xl"
           style="background: rgba(10, 10, 15, 0.8); border: 1px solid rgba(168, 85, 247, 0.2);">
        <label class="text-sm font-medium text-white/70 mb-3 block">Puntos iniciales (vidas)</label>
        <div class="flex items-center gap-4">
          <%= f.range_field :starting_points, min: 1, max: 10, value: @game.starting_points,
              class: "flex-1 h-2 rounded-full appearance-none cursor-pointer",
              style: "background: linear-gradient(to right, #a855f7, #ec4899);",
              data: { action: "input->range#updateDisplay" } %>
          <span class="w-12 text-center text-2xl font-black text-purple-400"
                id="starting_points_display"><%= @game.starting_points %></span>
        </div>
        <p class="text-xs text-white/40 mt-2">Cada vez que bebes, pierdes un punto</p>
      </div>

      <!-- Max Players -->
      <div class="p-5 rounded-xl"
           style="background: rgba(10, 10, 15, 0.8); border: 1px solid rgba(168, 85, 247, 0.2);">
        <label class="text-sm font-medium text-white/70 mb-3 block">Maximo de jugadores</label>
        <div class="flex items-center gap-4">
          <%= f.range_field :max_players, min: 2, max: 20, value: @game.max_players,
              class: "flex-1 h-2 rounded-full appearance-none cursor-pointer",
              style: "background: linear-gradient(to right, #06b6d4, #a855f7);",
              data: { action: "input->range#updateDisplay" } %>
          <span class="w-12 text-center text-2xl font-black text-cyan-400"
                id="max_players_display"><%= @game.max_players %></span>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="pt-4">
        <%= f.submit "Crear Partida",
            class: "w-full py-4 rounded-xl font-bold text-lg text-white transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] cursor-pointer",
            style: "background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%); box-shadow: 0 0 30px rgba(168, 85, 247, 0.4);" %>
      </div>
    <% end %>

    <!-- Back Link -->
    <div class="mt-6 text-center">
      <%= link_to never_have_i_ever_path, class: "text-white/40 hover:text-white transition-colors text-sm" do %>
        <span class="mr-2">&larr;</span> Volver
      <% end %>
    </div>
  </div>
</div>

<script>
  // Simple range input display updater
  document.querySelectorAll('input[type="range"]').forEach(input => {
    const displayId = input.name.replace('never_have_i_ever_game[', '').replace(']', '') + '_display'
    const display = document.getElementById(displayId)
    if (display) {
      input.addEventListener('input', () => {
        display.textContent = input.value
      })
    }
  })
</script>
